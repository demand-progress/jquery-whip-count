!function(a){a.fn.whipCount=function(b){function c(b,c){return a("<div class='position "+b+"'>").css({"float":"left",width:c+"%"})}var d=435,e=100,f=a.extend({lineWidth:1,filibuster:!1,legend:!0},b);return this.each(function(){var b=a(this).addClass("wc-chart-wrap"),g=a("<div class='wc-chart'>"),h=(b.width(),b.height(),a("<div class='wc-house'>")),i=a("<div class='wc-senate'>"),j=["firmYea","leanYea","unknown","leanNay","firmNay"];"static"===b.css("position")&&b.css("position","relative");var k=0,l=0;if(a.each(j,function(a,b){var g;f.house&&f.house[b]&&(g=f.house[b]/d*100,k+=f.house[b],h.data(b,c(b,g))),f.senate&&f.senate[b]&&(g=f.senate[b]/e*100,l+=f.senate[b],i.data(b,c(b,g)))}),f.house&&(h.data("unknown",c("unknown",(d-k)/d*100)),h.append("<div class='wc-label'>House of Representatives</div>"),a.each(j,function(a,b){h.append(h.data(b))}),h.append(a("<div>").css("clear","both")),g.append(h)),f.senate&&(i.data("unknown",c("unknown",(e-l)/e*100)),a.each(j,function(a,b){i.append(i.data(b))}),i.append(a("<div>").css("clear","both")),i.append("<div class='wc-label'>Senate</div>"),g.append(i)),g.append(a("<div class='wc-line'>").css({top:0,position:"absolute",height:b.height(),width:f.lineWidth+"px",left:(b.width()/2-f.lineWidth)/b.width()*100+"%"})),f.filibuster&&g.append(a("<div class='wc-line filibuster'>").css({position:"absolute",width:f.lineWidth+"px",left:(3*b.width()/5-f.lineWidth)/b.width()*100+"%"})),b.append(g),f.legend){var m='<div class="wc-legend"><p class="center">50%</p><p class="fili">60%</p><div class="firms">  <div class="yea box pull-left"></div>  <div class="label pull-left">YEA</div>  <div class="nay box pull-right"></div>  <div class="label pull-right">NAY</div>  <div class="clear"></div></div><div class="leans">  <div class="lean-yea box pull-left"></div>  <div class="label pull-left">LEAN YEA</div>  <div class="lean-nay box pull-right"></div>  <div class="label pull-right">LEAN NAY</div>  <div class="clear"></div></div>';b.append(m)}})}}(jQuery);